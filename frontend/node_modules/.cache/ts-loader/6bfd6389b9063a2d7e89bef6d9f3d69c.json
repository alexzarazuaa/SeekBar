{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/ts-loader/index.js??ref--14-2!/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/store/bars.module.ts","dependencies":[{"path":"/app/src/store/bars.module.ts","mtime":1621177870932},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/app/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCnZhciBfYWN0aW9ucywgX211dGF0aW9uczsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgQmFyc1NlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCB7IEFjdGlvbnNUeXBlIH0gZnJvbSAiLi9hY3Rpb25zLnR5cGUiOwppbXBvcnQgeyBNdXRhdGlvbnNUeXBlIH0gZnJvbSAiLi9tdXRhdGlvbnMudHlwZSI7CmV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0gewogIEJhcnM6IFtdLAogIFByb21vdGlvbnM6IFtdLAogIElzTG9hZGluZzogZmFsc2UsCiAgQmFyc0NvdW50OiAwLAogIE5leHQ6IG51bGwsCiAgUHJldmlvdXM6IG51bGwKfTsKdmFyIGdldHRlcnMgPSB7CiAgYmFyc0NvdW50OiBmdW5jdGlvbiBiYXJzQ291bnQoaW5pdGlhbFN0YXRlKSB7CiAgICByZXR1cm4gaW5pdGlhbFN0YXRlLkJhcnNDb3VudDsKICB9LAogIGJhcnM6IGZ1bmN0aW9uIGJhcnMoaW5pdGlhbFN0YXRlKSB7CiAgICByZXR1cm4gaW5pdGlhbFN0YXRlLkJhcnM7CiAgfSwKICBwcm9tb3Rpb25zQ291bnQ6IGZ1bmN0aW9uIHByb21vdGlvbnNDb3VudChpbml0aWFsU3RhdGUpIHsKICAgIHJldHVybiBpbml0aWFsU3RhdGUuUHJvbW90aW9uc0NvdW50OwogIH0sCiAgcHJvbW90aW9uczogZnVuY3Rpb24gcHJvbW90aW9ucyhpbml0aWFsU3RhdGUpIHsKICAgIHJldHVybiBpbml0aWFsU3RhdGUuUHJvbW90aW9uczsKICB9LAogIHByZXZpb3VzOiBmdW5jdGlvbiBwcmV2aW91cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLkJhcnMucHJldmlvdXM7CiAgfSwKICBuZXh0OiBmdW5jdGlvbiBuZXh0KHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuQmFycy5uZXh0OwogIH0sCiAgaXNMb2FkaW5nOiBmdW5jdGlvbiBpc0xvYWRpbmcoaW5pdGlhbFN0YXRlKSB7CiAgICByZXR1cm4gaW5pdGlhbFN0YXRlLklzTG9hZGluZzsKICB9Cn07CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQWN0aW9uc1R5cGUuRkVUQ0hfQkFSUywgZnVuY3Rpb24gKF9yZWYsIHBhcmFtcykgewogIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgY29tbWl0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgY29tbWl0KE11dGF0aW9uc1R5cGUuRkVUQ0hfU1RBUlQpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIEJhcnNTZXJ2aWNlLmdldEJhcnMoKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICBjb21taXQoTXV0YXRpb25zVHlwZS5GRVRDSF9FTkQsIGRhdGEpOwogICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpKCk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFjdGlvbnNUeXBlLkZFVENIX1BST01PVElPTlMsIGZ1bmN0aW9uIChfcmVmMywgcGFyYW1zKSB7CiAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgY29tbWl0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICBjb21taXQoTXV0YXRpb25zVHlwZS5GRVRDSF9TVEFSVCk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIEJhcnNTZXJ2aWNlLmdldFByb21vdGlvbnMoKS50aGVuKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjQuZGF0YTsKICAgICAgICAgICAgICBjb21taXQoTXV0YXRpb25zVHlwZS5GRVRDSF9FTkQsIGRhdGEpOwogICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSkoKTsKfSksIF9hY3Rpb25zKTsKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBNdXRhdGlvbnNUeXBlLkZFVENIX1NUQVJULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5Jc0xvYWRpbmcgPSB0cnVlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE11dGF0aW9uc1R5cGUuRkVUQ0hfRU5ELCBmdW5jdGlvbiAoc3RhdGUsIF9yZWY1KSB7CiAgdmFyIHJlc3VsdHMgPSBfcmVmNS5yZXN1bHRzLAogICAgICBiYXJzQ291bnQgPSBfcmVmNS5iYXJzQ291bnQ7CiAgc3RhdGUuQmFycyA9IHJlc3VsdHM7CiAgc3RhdGUuQmFyc0NvdW50ID0gYmFyc0NvdW50OwogIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE11dGF0aW9uc1R5cGUuVVBEQVRFX0JBUl9JTl9MSVNULCBmdW5jdGlvbiAoc3RhdGUsIGRhdGEpIHsKICBzdGF0ZS5CYXJzID0gc3RhdGUuQmFycy5tYXAoZnVuY3Rpb24gKGJhcikgewogICAgaWYgKGJhci5zbHVnICE9PSBkYXRhLnNsdWcpIHsKICAgICAgcmV0dXJuIGJhcjsKICAgIH0KCiAgICBiYXIuZmF2b3JpdGVkID0gZGF0YS5mYXZvcml0ZWQ7CiAgICBiYXIuZmF2b3JpdGVzQ291bnQgPSBkYXRhLmZhdm9yaXRlc0NvdW50OwogICAgcmV0dXJuIGJhcjsKICB9KTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/app/node_modules/eslint-loader/index.js??ref--13-0!/app/src/store/bars.module.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAqB,WAArB,QAAwC,sBAAxC;AACA,SAAS,WAAT,QAA4B,gBAA5B;AACA,SAAS,aAAT,QAA8B,kBAA9B;AAYA,OAAO,IAAM,YAAY,GAAU;AACjC,EAAA,IAAI,EAAE,EAD2B;AAEjC,EAAA,UAAU,EAAE,EAFqB;AAGjC,EAAA,SAAS,EAAE,KAHsB;AAIjC,EAAA,SAAS,EAAE,CAJsB;AAKjC,EAAA,IAAI,EAAE,IAL2B;AAMjC,EAAA,QAAQ,EAAE;AANuB,CAA5B;AASP,IAAM,OAAO,GAAG;AACd,EAAA,SAAS,EAAE,mBAAC,YAAD,EAAsB;AAC/B,WAAO,YAAY,CAAC,SAApB;AACD,GAHa;AAId,EAAA,IAAI,EAAE,cAAC,YAAD,EAAsB;AAC1B,WAAO,YAAY,CAAC,IAApB;AACD,GANa;AAOd,EAAA,eAAe,EAAE,yBAAC,YAAD,EAAsB;AACrC,WAAO,YAAY,CAAC,eAApB;AACD,GATa;AAUd,EAAA,UAAU,EAAE,oBAAC,YAAD,EAAsB;AAChC,WAAO,YAAY,CAAC,UAApB;AACD,GAZa;AAcd,EAAA,QAdc,oBAcL,KAdK,EAcK;AACjB,WAAO,KAAK,CAAC,IAAN,CAAW,QAAlB;AACD,GAhBa;AAkBd,EAAA,IAlBc,gBAkBT,KAlBS,EAkBC;AACb,WAAO,KAAK,CAAC,IAAN,CAAW,IAAlB;AACD,GApBa;AAsBd,EAAA,SAAS,EAAE,mBAAC,YAAD,EAAsB;AAC/B,WAAO,YAAY,CAAC,SAApB;AACD;AAxBa,CAAhB;AA2BA,IAAM,OAAO,6CAEJ,WAAW,CAAC,UAFR,kBAEqC,MAFrC,EAEgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1B,YAAA,MAA0B,QAA1B,MAA0B;AACzD,YAAA,MAAM,CAAC,aAAa,CAAC,WAAf,CAAN;AADyD;AAAA,mBAEnD,WAAW,CAAC,OAAZ,GACH,IADG,CACE,iBAAkB;AAAA,kBAAf,IAAe,SAAf,IAAe;AACtB,cAAA,MAAM,CAAC,aAAa,CAAC,SAAf,EAA0B,IAA1B,CAAN;AACD,aAHG,WAIG,UAAC,KAAD,EAAe;AACpB,oBAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACD,aANG,CAFmD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS1D,CAXU,6BAaJ,WAAW,CAAC,gBAbR,mBAa2C,MAb3C,EAasD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA1B,YAAA,MAA0B,SAA1B,MAA0B;AAC/D,YAAA,MAAM,CAAC,aAAa,CAAC,WAAf,CAAN;AAD+D;AAAA,mBAEzD,WAAW,CAAC,aAAZ,GACH,IADG,CACE,iBAAkB;AAAA,kBAAf,IAAe,SAAf,IAAe;AACtB,cAAA,MAAM,CAAC,aAAa,CAAC,SAAf,EAA0B,IAA1B,CAAN;AACD,aAHG,WAIG,UAAC,KAAD,EAAe;AACpB,oBAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACD,aANG,CAFyD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAShE,CAtBU,YAAb;AA4BA,IAAM,SAAS,iDACZ,aAAa,CAAC,WADF,YACe,KADf,EACyB;AACpC,EAAA,KAAK,CAAC,SAAN,GAAkB,IAAlB;AACD,CAHY,+BAIZ,aAAa,CAAC,SAJF,YAIa,KAJb,SAIoD;AAAA,MAAzB,OAAyB,SAAzB,OAAyB;AAAA,MAAhB,SAAgB,SAAhB,SAAgB;AAC/D,EAAA,KAAK,CAAC,IAAN,GAAa,OAAb;AACA,EAAA,KAAK,CAAC,SAAN,GAAkB,SAAlB;AACA,EAAA,KAAK,CAAC,SAAN,GAAkB,KAAlB;AACD,CARY,+BASZ,aAAa,CAAC,kBATF,YASsB,KATtB,EASkC,IATlC,EAS2C;AACtD,EAAA,KAAK,CAAC,IAAN,GAAa,KAAK,CAAC,IAAN,CAAW,GAAX,CAAe,UAAC,GAAD,EAAa;AACvC,QAAI,GAAG,CAAC,IAAJ,KAAa,IAAI,CAAC,IAAtB,EAA4B;AAC1B,aAAO,GAAP;AACD;;AACD,IAAA,GAAG,CAAC,SAAJ,GAAgB,IAAI,CAAC,SAArB;AACA,IAAA,GAAG,CAAC,cAAJ,GAAqB,IAAI,CAAC,cAA1B;AACA,WAAO,GAAP;AACD,GAPY,CAAb;AAQD,CAlBY,cAAf;AAqBA,eAAe;AACb,EAAA,YAAY,EAAZ,YADa;AAEb,EAAA,OAAO,EAAP,OAFa;AAGb,EAAA,OAAO,EAAP,OAHa;AAIb,EAAA,SAAS,EAAT;AAJa,CAAf","sourcesContent":["import ApiService, { BarsService } from \"@/common/api.service\";\nimport { ActionsType } from \"./actions.type\";\nimport { MutationsType } from \"./mutations.type\";\n\nexport interface State {\n  Bars: any[];\n  Promotions: any[];\n  IsLoading: boolean;\n  BarsCount: number;\n  PromotionsCount: number;\n  Next: null;\n  Previous: null;\n}\n\nexport const initialState: State = {\n  Bars: [],\n  Promotions: [],\n  IsLoading: false,\n  BarsCount: 0,\n  Next: null,\n  Previous: null,\n};\n\nconst getters = {\n  barsCount: (initialState: any) => {\n    return initialState.BarsCount;\n  },\n  bars: (initialState: any) => {\n    return initialState.Bars;\n  },\n  promotionsCount: (initialState: any) => {\n    return initialState.PromotionsCount;\n  },\n  promotions: (initialState: any) => {\n    return initialState.Promotions;\n  },\n\n  previous(state: any) {\n    return state.Bars.previous;\n  },\n\n  next(state: any) {\n    return state.Bars.next;\n  },\n\n  isLoading: (initialState: any) => {\n    return initialState.IsLoading;\n  },\n};\n\nconst actions = {\n\n  async [ActionsType.FETCH_BARS]({ commit }: any, params: any) {\n    commit(MutationsType.FETCH_START);\n    await BarsService.getBars()\n      .then(({ data }: any) => {\n        commit(MutationsType.FETCH_END, data);\n      })\n      .catch((error: any) => {\n        throw new Error(error);\n      });\n  },\n\n  async [ActionsType.FETCH_PROMOTIONS]({ commit }: any, params: any) {\n    commit(MutationsType.FETCH_START);\n    await BarsService.getPromotions()\n      .then(({ data }: any) => {\n        commit(MutationsType.FETCH_END, data);\n      })\n      .catch((error: any) => {\n        throw new Error(error);\n      });\n  },\n\n\n\n};\n\nconst mutations = {\n  [MutationsType.FETCH_START](state: any) {\n    state.IsLoading = true;\n  },\n  [MutationsType.FETCH_END](state: any, { results, barsCount }: any) {\n    state.Bars = results;\n    state.BarsCount = barsCount;\n    state.isLoading = false;\n  },\n  [MutationsType.UPDATE_BAR_IN_LIST](state: any, data: any) {\n    state.Bars = state.Bars.map((bar: any) => {\n      if (bar.slug !== data.slug) {\n        return bar;\n      }\n      bar.favorited = data.favorited;\n      bar.favoritesCount = data.favoritesCount;\n      return bar;\n    });\n  },\n};\n\nexport default {\n  initialState,\n  getters,\n  actions,\n  mutations,\n};"],"sourceRoot":""}]}